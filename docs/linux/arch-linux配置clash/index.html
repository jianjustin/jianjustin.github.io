<!doctype html><html lang=zh-cn dir=ltr><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Arch Linux配置Clash # 安装Clash # 安装Clash：sudo pacman -S clash 生成Clash配置文件（配置文件目录是～/.config/clash）：clash 设置终端代理 # 安装proxychains-ng：sudo pacman -S proxychains-ng 修改配置文件：sudo vim /etc/proxychains.conf [ProxyList] # add proxy here ... # meanwile # defaults set to &#34;tor&#34; socks5 127.0.0.1 7891 命令走代理：proxychains <command>
配置环境：sudo vim /etc/environment
http_proxy=127.0.0.1:7890 https_proxy=127.0.0.1:7890 socks_proxy=127.0.0.1:7891 自启动Clash # 添加配置文件 # 创建文件夹用以存储 Clash 相关文件 sudo mkdir -p /etc/clash # 复制相关文件 sudo cp ~/.config/clash/config.yaml /etc/clash/ sudo cp ~/.config/clash/Country.mmdb /etc/clash/ 添加Clash服务：sudo vim /etc/systemd/system/clash.service [Unit] Description=Clash daemon, A rule-based proxy in Go."><meta name=theme-color content="#FFFFFF"><meta name=color-scheme content="light dark"><meta property="og:title" content><meta property="og:description" content="Arch Linux配置Clash # 安装Clash # 安装Clash：sudo pacman -S clash 生成Clash配置文件（配置文件目录是～/.config/clash）：clash 设置终端代理 # 安装proxychains-ng：sudo pacman -S proxychains-ng 修改配置文件：sudo vim /etc/proxychains.conf [ProxyList] # add proxy here ... # meanwile # defaults set to &#34;tor&#34; socks5 127.0.0.1 7891 命令走代理：proxychains <command>
配置环境：sudo vim /etc/environment
http_proxy=127.0.0.1:7890 https_proxy=127.0.0.1:7890 socks_proxy=127.0.0.1:7891 自启动Clash # 添加配置文件 # 创建文件夹用以存储 Clash 相关文件 sudo mkdir -p /etc/clash # 复制相关文件 sudo cp ~/.config/clash/config.yaml /etc/clash/ sudo cp ~/.config/clash/Country.mmdb /etc/clash/ 添加Clash服务：sudo vim /etc/systemd/system/clash.service [Unit] Description=Clash daemon, A rule-based proxy in Go."><meta property="og:type" content="article"><meta property="og:url" content="http://jianjustin.github.io/docs/linux/arch-linux%E9%85%8D%E7%BD%AEclash/"><meta property="article:section" content="docs"><title>Arch Linux配置 Clash | 极北之地</title><link rel=manifest href=/manifest.json><link rel=icon href=/favicon.png type=image/x-icon><link rel=stylesheet href=/book.min.c58292d36b18b675680ab9baea2029204537b839ea72f258746ec0f32ce8d6c8.css integrity="sha256-xYKS02sYtnVoCrm66iApIEU3uDnqcvJYdG7A8yzo1sg=" crossorigin=anonymous><script defer src=/flexsearch.min.js></script>
<script defer src=/en.search.min.9a1579217f2d24ddf7c14423eef9e31d619de5100e490751cbc4a7f07c030abc.js integrity="sha256-mhV5IX8tJN33wUQj7vnjHWGd5RAOSQdRy8Sn8HwDCrw=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>极北之地</span></a></h2><div class=book-search><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><ul><li class=book-section-flat><span>Go开发指南</span><ul><li><input type=checkbox id=section-124c3ff87f4bfa9f1868cdca1d949763 class=toggle>
<label for=section-124c3ff87f4bfa9f1868cdca1d949763 class="flex justify-between"><a role=button>Gorm</a></label><ul><li><a href=/docs/golang/gorm/%E8%BF%9E%E6%8E%A5%E6%95%B0%E6%8D%AE%E5%BA%93/>连接数据库</a></li></ul></li></ul></li><li class=book-section-flat><span>Linux指南</span><ul><li><a href=/docs/linux/arch-linux%E9%85%8D%E7%BD%AEclash/ class=active>Arch Linux配置 Clash</a></li><li><a href=/docs/linux/mac%E5%88%B6%E4%BD%9C%E5%90%AF%E5%8A%A8%E7%9B%98/>Mac制作启动盘</a></li><li><a href=/docs/linux/%E5%AE%89%E8%A3%85arch-linux/>安装 Arch Linux</a></li></ul></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label>
<strong>Arch Linux配置 Clash</strong>
<label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#安装clash>安装Clash</a></li><li><a href=#设置终端代理>设置终端代理</a></li><li><a href=#自启动clash>自启动Clash</a></li></ul></nav></aside></header><article class=markdown><h1 id=arch-linux配置clash>Arch Linux配置Clash
<a class=anchor href=#arch-linux%e9%85%8d%e7%bd%aeclash>#</a></h1><h2 id=安装clash>安装Clash
<a class=anchor href=#%e5%ae%89%e8%a3%85clash>#</a></h2><ul><li>安装Clash：<code>sudo pacman -S clash</code></li><li>生成Clash配置文件（配置文件目录是<code>～/.config/clash</code>）：<code>clash</code></li></ul><h2 id=设置终端代理>设置终端代理
<a class=anchor href=#%e8%ae%be%e7%bd%ae%e7%bb%88%e7%ab%af%e4%bb%a3%e7%90%86>#</a></h2><ul><li>安装proxychains-ng：<code>sudo pacman -S proxychains-ng</code></li><li>修改配置文件：<code>sudo vim /etc/proxychains.conf</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#f92672>[</span>ProxyList<span style=color:#f92672>]</span>
</span></span><span style=display:flex><span><span style=color:#75715e># add proxy here ...</span>
</span></span><span style=display:flex><span><span style=color:#75715e># meanwile</span>
</span></span><span style=display:flex><span><span style=color:#75715e># defaults set to &#34;tor&#34;</span>
</span></span><span style=display:flex><span>socks5 	127.0.0.1 <span style=color:#ae81ff>7891</span>
</span></span></code></pre></div><ul><li><p>命令走代理：<code>proxychains &lt;command></code></p></li><li><p>配置环境：<code>sudo vim /etc/environment</code></p></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span>http_proxy<span style=color:#f92672>=</span>127.0.0.1:7890
</span></span><span style=display:flex><span>https_proxy<span style=color:#f92672>=</span>127.0.0.1:7890
</span></span><span style=display:flex><span>socks_proxy<span style=color:#f92672>=</span>127.0.0.1:7891
</span></span></code></pre></div><h2 id=自启动clash>自启动Clash
<a class=anchor href=#%e8%87%aa%e5%90%af%e5%8a%a8clash>#</a></h2><ul><li>添加配置文件</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-sh data-lang=sh><span style=display:flex><span><span style=color:#75715e># 创建文件夹用以存储 Clash 相关文件</span>
</span></span><span style=display:flex><span>sudo mkdir -p /etc/clash
</span></span><span style=display:flex><span><span style=color:#75715e># 复制相关文件</span>
</span></span><span style=display:flex><span>sudo cp ~/.config/clash/config.yaml /etc/clash/
</span></span><span style=display:flex><span>sudo cp ~/.config/clash/Country.mmdb /etc/clash/
</span></span></code></pre></div><ul><li>添加Clash服务：<code>sudo vim /etc/systemd/system/clash.service</code></li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-service data-lang=service><span style=display:flex><span><span style=color:#66d9ef>[Unit]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Description</span><span style=color:#f92672>=</span><span style=color:#e6db74>Clash daemon, A rule-based proxy in Go.</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>After</span><span style=color:#f92672>=</span><span style=color:#e6db74>network.target</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Service]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Type</span><span style=color:#f92672>=</span><span style=color:#e6db74>simple</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>Restart</span><span style=color:#f92672>=</span><span style=color:#e6db74>always</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>ExecStart</span><span style=color:#f92672>=</span><span style=color:#e6db74>/usr/bin/clash -d /etc/clash # /usr/bin/clash 为绝对路径，请根据你实际情况修改</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>[Install]</span>
</span></span><span style=display:flex><span><span style=color:#a6e22e>WantedBy</span><span style=color:#f92672>=</span><span style=color:#e6db74>multi-user.target</span>
</span></span></code></pre></div><ul><li>添加clash到守护进程：<code>sudo systemctl enable clash</code></li><li>启动Clash：<code>sudo systemctl start clash</code></li></ul></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(n){const e=window.getSelection(),t=document.createRange();t.selectNodeContents(n),e.removeAllRanges(),e.addRange(t)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#安装clash>安装Clash</a></li><li><a href=#设置终端代理>设置终端代理</a></li><li><a href=#自启动clash>自启动Clash</a></li></ul></nav></div></aside></main></body></html>